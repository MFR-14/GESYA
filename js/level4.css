/* =========================
   GESYA - Level 4 CSS (FINAL)
   1 layar HP + notif aman + bottom sheet
   ========================= */

.lvl4-layout{
  padding: 8px 16px 18px;
  min-height: calc(100svh - 70px);
  display: flex;
  justify-content: center;
  align-items: flex-start;
}

.lvl4-wrap{
  width: 100%;
  display:grid;
  gap:12px;
  justify-items:center;
}

/* judul ronde */
.lvl4-round{
  width:min(520px, 96vw);
  background:#fff;
  border-radius:18px;
  padding:10px 16px;
  font-weight:900;
  box-shadow:0 10px 26px rgba(0,0,0,.06);
  text-align:center;
}

/* kartu situasi */
.situation-card{
  width:min(360px, 92vw);
  background:#fff;
  border-radius:22px;
  padding:12px 14px 10px;
  box-shadow:0 10px 26px rgba(0,0,0,.08);
  display:grid;
  justify-items:center;
  gap:6px;
  cursor:grab;
  user-select:none;
}

.situation-card:active{ cursor:grabbing; }
.situation-card.picked{
  outline: 4px solid rgba(255,183,3,.55);
  transform: scale(1.01);
}

.sit-emoji{
  font-size:54px;
  line-height:1;
}
.sit-text{
  font-weight:950;
  letter-spacing:1px;
  font-size:18px;
  text-align:center;
}
.sit-mini{
  font-size:13px;
  opacity:.75;
  text-align:center;
}

/* area dua pilihan */
.choice-area{
  width:min(520px, 96vw);
  display:flex;
  gap:14px;
  justify-content:center;
  align-items:stretch;
  flex-wrap:wrap;
}

.choice-circle{
  width:min(240px, 46vw);
  min-height:132px;
  background:#fff;
  border-radius:24px;
  box-shadow:0 10px 26px rgba(0,0,0,.06);
  padding:12px 12px;
  display:grid;
  gap:6px;
  justify-items:center;
  text-align:center;
}

.cz-emoji{ font-size:28px; }
.cz-title{ font-weight:950; font-size:14px; }
.cz-mini{ font-size:12px; opacity:.75; }

/* efek drop */
.drop-zone.over{
  outline:4px solid #ffb703;
  transform:scale(1.01);
}

/* notif: dibuat sticky biar tidak ketutup */
.hint, .answer-feedback{
  width:min(520px, 96vw);
  position: sticky;
  bottom: 10px;
  z-index: 20;
}

.hint{
  border-radius: 16px;
  padding: 10px 12px;
  background: #ffffff;
  box-shadow: 0 10px 26px rgba(0,0,0,.08);
  text-align: center;
  font-weight: 800;
}

.answer-feedback{
  min-height: 22px;
  margin-top: 6px;
  text-align:center;
  font-weight: 900;
}

/* PANEL SIKAP: bottom sheet overlay */
.attitude-panel{
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: 10px;
  z-index: 999;
  width: min(520px, 96vw);
  max-height: 46vh;
  overflow: auto;
  background:#fff;
  border-radius:22px;
  padding:14px 12px;
  box-shadow:0 14px 40px rgba(0,0,0,.20);
  display:grid;
  gap:12px;
}

/* backdrop (klik area gelap = nutup) */
.attitude-panel::before{
  content:"";
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.18);
  z-index: -1;
}

.att-title{
  font-weight:900;
  text-align:center;
}

.att-options{
  display:flex;
  gap:12px;
  justify-content:center;
  flex-wrap:wrap;
}

.att-btn{
  width:min(150px, 44vw);
  border:none;
  background:#f7f7f7;
  border-radius:18px;
  padding:12px 10px;
  box-shadow:0 8px 18px rgba(0,0,0,.06);
  font-weight:900;
  cursor:pointer;
  display:grid;
  gap:6px;
  justify-items:center;
}

.att-btn .emo{ font-size:28px; }
.att-btn .txt{ font-size:13px; text-align:center; }

.att-btn:active{ transform:scale(.98); }
.att-btn.good{ outline:4px solid rgba(27,127,58,.35); }
.att-btn.bad{ outline:4px solid rgba(249,65,68,.28); }

/* helper */
.hidden{ display:none !important; }

@media (max-width:420px){
  .choice-area{ gap:12px; }
  .choice-circle{ min-height:124px; }
}
