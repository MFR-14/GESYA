/* =========================
   BASE
========================= */
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family:"Comic Sans MS","Poppins",sans-serif;
  background:#fdf6ec;
  color:#2b3a55;
}
.hidden{ display:none !important; }

/* =========================
   INTRO
========================= */
.intro{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;
}
.intro-card{
  width:min(560px,92vw);
  background:#fff;
  border-radius:24px;
  padding:26px 22px;
  box-shadow:0 10px 30px rgba(0,0,0,.08);
  text-align:center;
}
.intro-title{
  font-size:48px;
  font-weight:900;
  margin:0 0 10px;
}
.intro-subtitle{
  display:inline-block;
  background:#ffd27d;
  padding:10px 18px;
  border-radius:16px;
  font-weight:900;
  margin-bottom:18px;
}
.intro-form{
  display:grid;
  gap:10px;
  text-align:left;
}
.intro-form label{ font-weight:900; }
.intro-form input{
  width:100%;
  padding:14px 16px;
  border-radius:14px;
  border:2px solid #e7e0d2;
  background:#eef5ff;
  font-size:16px;
  outline:none;
}
.intro-form button{
  margin-top:8px;
  width:100%;
  padding:14px 16px;
  border:none;
  border-radius:16px;
  background:#ffb703;
  font-weight:900;
  cursor:pointer;
}

/* =========================
   HUD
========================= */
.hud{
  display:flex;
  align-items:center;
  gap:14px;
  padding:14px 16px;
}
.timer, .score{
  background:#fff;
  padding:10px 14px;
  border-radius:999px;
  font-weight:900;
  box-shadow:0 6px 18px rgba(0,0,0,.06);
}
.btn-selesai{
  margin-left:auto;
  border:none;
  border-radius:999px;
  padding:10px 16px;
  background:#ffb703;
  font-weight:900;
  cursor:pointer;
}

/* =========================
   LAYOUT
========================= */
.lvl1-layout{
  padding: 8px 16px 20px;
  display:flex;
  flex-direction:column;
  gap:18px;
}

/* ATAS */
.top-area{
  display:grid;
  grid-template-columns:minmax(320px,560px) 1fr;
  gap:18px;
  align-items:start;
}
.top-space{ min-height:330px; }

/* soal */
.question-card{
  width:100%;
  background:#fff;
  border-radius:24px;
  padding:16px;
  box-shadow:0 10px 26px rgba(0,0,0,.06);
}
.question-title{
  font-weight:900;
  margin-bottom:10px;
}
.drag-area{
  display:flex;
  align-items:center;
  justify-content:center;
  margin:10px 0;
}
.question-img{
  width:100%;
  max-width:320px;
  height:auto;
  object-fit:contain;
  border-radius:18px;
  background:#f7f2e6;
  user-select:none;
}

/* BAWAH */
.bottom-area{
  display:flex;
  justify-content:flex-start;
}
.cards{
  width:min(560px,100%);
  display:grid;
  grid-template-columns:repeat(4, minmax(0,1fr));
  gap:16px;
}
.emotion-card{
  background:#ffd27d;
  border-radius:18px;
  height:92px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:900;
  letter-spacing:.5px;
  cursor:pointer;
  user-select:none;
  text-align:center;
}

/* drag over */
.drop-target.over{
  outline:4px solid #ffb703;
  transform:scale(1.02);
}

/* picked mode (HP) */
#questionImg.picked{
  outline:4px solid #ffb703;
}

/* =========================
   HINT (NOTIF KECIL)
========================= */
.hint{
  margin-top:12px;
  padding:14px 16px;
  border-radius:16px;
  font-size:26px;
  font-weight:900;
  text-align:center;
  white-space:pre-line;
  line-height:1.15;
  background:#fdf6ec;
  border:3px solid #e7e0d2;
}
.hint.good{
  color:#0f6b2f;
  background:#dff7e6;
  border-color:#0f6b2f;
}
.hint.bad{
  color:#b42318;
  background:#ffe3e0;
  border-color:#b42318;
}

/* =========================
   NOTIF BESAR BENAR/SALAH (FIX UTAMA)
   - HILANGKAN opacity:0 yang bikin "hantu"
========================= */
.answer-feedback{
  display:block;
  margin:12px 0 0;
  min-height:64px;         /* biar gak kosong */
  padding:14px 16px;
  border-radius:16px;
  text-align:center;

  font-size:34px;
  font-weight:900;
  line-height:1.15;

  opacity:1;               /* âœ… FIX: paksa terlihat */
  visibility:visible;      /* âœ… FIX */
  transform:none;          /* âœ… FIX */
  transition:none;

  color:#2b3a55;
  background:#ffffff;
  border:3px solid #2b3a55;
}
.answer-feedback.good{
  background:#dff7e6;
  border-color:#0f6b2f;
  color:#0f6b2f;
}
.answer-feedback.bad{
  background:#ffe3e0;
  border-color:#b42318;
  color:#b42318;
}

/* =========================
   ANIMASI
========================= */
@keyframes shake{
  0%,100%{ transform:translateX(0); }
  25%{ transform:translateX(-6px); }
  50%{ transform:translateX(6px); }
  75%{ transform:translateX(-6px); }
}
.shake{ animation:shake .35s ease; }

@keyframes okflash{
  from{ box-shadow:0 0 0 rgba(0,0,0,0); }
  to{ box-shadow:0 0 0 6px rgba(27,127,58,.25); }
}
.ok{ animation:okflash .45s ease; }

/* =========================
   RESPONSIVE
========================= */
@media (max-width:900px){
  .top-area{ grid-template-columns:1fr; }
  .top-space{ display:none; }

  .cards{
    width:100%;
    grid-template-columns:repeat(2, minmax(0,1fr));
    gap:12px;
  }
  .emotion-card{
    height:78px;
    font-size:14px;
  }
/* =========================================================
   MOBILE 1 LAYAR (LEVEL 1) â€” FIX KEPOTONG
   Tempel paling bawah CSS
   ========================================================= */
@media (max-width: 480px){

  /* tinggi layar HP yang aman (address bar dinamis) */
  body{
    min-height: 100svh;
  }

  /* HUD lebih tipis */
  .hud{
    gap: 10px;
    padding: 10px 12px;
  }
  .timer, .score{
    padding: 8px 12px;
    font-size: 13px;
  }
  .btn-selesai{
    padding: 8px 14px;
    font-size: 13px;
  }

  /* Layout rapetin biar muat 1 layar */
  .lvl1-layout{
    padding: 6px 12px 12px;
    gap: 12px;
  }

  /* Card soal rapetin */
  .question-card{
    border-radius: 20px;
    padding: 12px;
  }
  .question-title{
    margin-bottom: 8px;
    font-size: 15px;
  }

  /* Gambar: ini kunci utama biar tombol emosi ga kepotong */
  .question-img{
    max-width: 220px;
    max-height: 170px;   /* ðŸ”¥ batasi tinggi */
    width: 100%;
    height: auto;
  }

  /* area drag rapetin */
  .drag-area{
    margin: 8px 0;
  }

  /* Cards emosi: 2 kolom udah ada, tinggal kecilin tinggi & gap */
  .cards{
    gap: 10px;
  }
  .emotion-card{
    height: 64px;        /* ðŸ”¥ lebih pendek */
    font-size: 13px;
    border-radius: 16px;
    padding: 8px;
  }

  /* Hint & feedback: gede banget sebelumnya, ini bikin turun */
  .hint{
    margin-top: 10px;
    padding: 10px 12px;
    font-size: 16px;     /* turun dari 20/26 */
    border-radius: 14px;
  }
  .answer-feedback{
    margin: 10px 0 0;
    min-height: 52px;
    padding: 10px 12px;
    font-size: 18px;     /* turun dari 26 */
    border-radius: 14px;
  }
}

  .question-img{ max-width:240px; }
  .hint{ font-size:20px; }
  .answer-feedback{ font-size:26px; }
}
